title: 红黑树平衡变换
author: weihehe
tags:
  - 红黑树
categories:
  - 数据结构与算法
date: 2024-07-09 23:23:00
---
红黑树平衡变换图解
<!-- more -->

#### 注意：此页面为[平衡树](https://weihehe.top/2024/07/01/%E4%BA%8C%E5%8F%89%E6%A0%91-1/)的补充。


### 变化情况

1. `叔叔`节点(父亲节点的兄弟节点)为红，**变色** + 继续向上更新。**变色过程如下**：
	- 将 P，U 节点染黑，将 G 节点染红（可以保证每条路径上黑色节点个数不发生改变）。
	- 递归维护 G 节点（因为不确定 G 的父节点的状态，递归维护可以确保性质 3 成立）。
    
	![变色](/images/红黑树平衡变换-兄弟为红.png)

2. `叔叔`**不存在**，或者`叔叔`**存在且为黑**，**旋转 + 变色**。

### 如何旋转（满足上述变化情况2的基础上）

- **当前节点 N** 与**父节点 P**的**方向相同：**（类似 AVL 树中 LL 和 RR 的情况）
	- N 节点为右子节点且父节点为右子节点
	- N 节点为左子节点且父节点为左子节点。
   

![右（左）旋](/images/类似平衡树中的`篡位`左右旋.png)

- **当前节点 N** 与**父节点 P** 的**方向相反**：**（类似 AVL 树中 LR 和 RL 的情况）**，谋权篡位。
	-  N 节点为右子节点且父节点为左子节点。
	-  N 节点为左子节点且父节点为右子节点。
  
![类似平衡树中的`谋权`](/images/N和P方向相反.png)
   注意：这里直接使用了(LL,LR的图片，N和P的编号发生了改变，但实际LR（RL）改变中不会发生)
![类似平衡树中的`谋权`](/images/类似平衡树中的`篡位`左右旋.png)