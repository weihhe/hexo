title: 构造函数的隐式类型转换
author: weihehe
tags:
  - explicit
categories:
  - C++
date: 2024-07-04 20:37:00
---

### 构造函数的隐式类型转换

explicit
<!--more-->

对于**接收单个参数的**构造函数，还具有**类型转换**的作用。
接收单个参数的构造函数具体表现：
1. 构造函数只有一个参数
2. 构造函数有多个参数，除第一个参数没有默认值外，其余参数都有默认值
3. 全缺省构造函数

```c++
...
My_class tmp_1(1);//构造函数
My_class tmp_2 = 2;//发生了类型转换
/*tmp2中，先用2构造了一个My_class的临时对象,临时对象再拷贝构造tmp2。
*/
...
```

![隐式类型转换](/images/explicit.png)

**但连续的构造，编译器一般都会优化。例如将上图情况改为直接的构造。**

#### 用explicit修饰构造函数，将会禁止构造函数的隐式转换。
