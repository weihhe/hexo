title: nodejsæ›´æ–°
author: weihehe
date: 2025-07-18 15:28:41
tags:
---
ä½ é‡åˆ°çš„é”™è¯¯æ ¹æœ¬åŸå› æ˜¯ï¼š**ä½ ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬å¤ªæ—§**ï¼Œä¸æ”¯æŒä»£ç ä¸­ç”¨åˆ°çš„ç°ä»£ JavaScript è¯­æ³•ï¼Œä¾‹å¦‚ `?.`ï¼ˆå¯é€‰é“¾æ“ä½œç¬¦ï¼‰å’Œ `.at(-1)`ï¼ˆæ•°ç»„å–æœ€åä¸€ä¸ªå…ƒç´ çš„æ–°æ–¹æ³•ï¼‰ã€‚

---

## ğŸ” é”™è¯¯åˆ†æ

ä½ æ—¥å¿—ä¸­å‡ºç°çš„ä¸¤ä¸ªå…¸å‹æŠ¥é”™ï¼š

```bash
SyntaxError: Unexpected token '.'
```

åˆ†åˆ«å‡ºç°åœ¨ï¼š

* `hexo-renderer-marked` çš„ `marked.cjs` æ–‡ä»¶ï¼š

  ```js
  if (cells.length > 0 && !cells.at(-1)?.trim())
  ```
* `@adobe/css-tools` çš„ï¼š

  ```js
  options?.source
  ```

è¿™äº›å†™æ³•æ˜¯ **Node.js v14+** æˆ– **v16+** æ‰æ”¯æŒçš„ï¼Œè€Œä½ çš„å½“å‰ç¯å¢ƒçš„ Node.js æ˜¯ **ä½ç‰ˆæœ¬ï¼ˆä¼°è®¡æ˜¯ v12 æˆ–æ›´ä½ï¼‰**ã€‚

---

## âœ… è§£å†³æ–¹æ³•

### ğŸ”§ 1. å‡çº§ Node.js è‡³ v18 æˆ–ä»¥ä¸Š

ä½ å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼å‡çº§ï¼š

#### å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Ubuntuï¼Œå¯ä»¥ä½¿ç”¨ [nvm](https://github.com/nvm-sh/nvm) æ¥å®‰è£…ç®¡ç† Node.js ç‰ˆæœ¬ï¼š

```bash
# å®‰è£… nvmï¼ˆå¦‚å°šæœªå®‰è£…ï¼‰
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
# é‡æ–°åŠ è½½ shell é…ç½®ï¼ˆä¾‹å¦‚ bashï¼‰
source ~/.bashrc

# å®‰è£… Node.js æœ€æ–° LTSï¼ˆæ¨èï¼‰
nvm install --lts

# ä½¿ç”¨åˆšå®‰è£…çš„ Node.js
nvm use --lts

# è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬
nvm alias default lts/*
```

éªŒè¯ç‰ˆæœ¬ï¼š

```bash
node -v
# è¾“å‡ºåº”ä¸º v18.x æˆ–æ›´é«˜
```

---

### ğŸ” 2. æ¸…ç†å¹¶é‡è£…ä¾èµ–

å‡çº§å®Œ Node.js åï¼Œå»ºè®®æ¸…é™¤æ—§ä¾èµ–é‡æ–°å®‰è£…ï¼š

```bash
cd ~/hexo/hexo
rm -rf node_modules package-lock.json
npm install
```

---

### â–¶ï¸ 3. å†æ¬¡è¿è¡Œ Hexo

```bash
hexo clean
hexo generate
hexo server -p 4399
```

---

## ğŸ”š æ€»ç»“

| æ“ä½œ            | è¯´æ˜                        |
| ------------- | ------------------------- |
| ğŸ”„ å‡çº§ Node.js | è¿™æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºä½ ä½¿ç”¨çš„æ’ä»¶ç”¨åˆ°äº†ç°ä»£ JS è¯­æ³• |
| ğŸ§¹ æ¸…é™¤å¹¶é‡è£…ä¾èµ–    | é¿å…è€æ—§æ¨¡å—å†²çª                  |
| âœ… é‡æ–°å¯åŠ¨ Hexo   | æ£€æŸ¥æ˜¯å¦æˆåŠŸ                    |

å¦‚æœè¿˜æœ‰æŠ¥é”™ï¼Œè¯·è´´å‡º `node -v` å’Œ `npm ls` çš„ç»“æœï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥å¸®ä½ åˆ†æã€‚
